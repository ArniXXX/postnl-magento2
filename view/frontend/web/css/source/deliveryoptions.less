/**
 *
 *          ..::..
 *     ..::::::::::::..
 *   ::'''''':''::'''''::
 *   ::..  ..:  :  ....::
 *   ::::  :::  :  :   ::
 *   ::::  :::  :  ''' ::
 *   ::::..:::..::.....::
 *     ''::::::::::::''
 *          ''::''
 *
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Creative Commons License.
 * It is available through the world-wide-web at this URL:
 * http://creativecommons.org/licenses/by-nc-nd/3.0/nl/deed.en_US
 * If you are unable to obtain it through the world-wide-web, please send an email
 * to servicedesk@tig.nl so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this module to newer
 * versions in the future. If you wish to customize this module for your
 * needs please contact servicedesk@tig.nl for more information.
 *
 * @copyright   Copyright (c) Total Internet Group B.V. https://tig.nl/copyright
 * @license     http://creativecommons.org/licenses/by-nc-nd/3.0/nl/deed.en_US
 */

/* =================================================================================================================== *
/*
/* Do you want to customize the colors of the PostNL extension?
/* Colors can be overwritten by copying the variables to your own theme
/*
* =================================================================================================================== */


/*** PostNL Color Pallet ***/

@postnl-orange: #ED8C00;
@postnl-blue-dark: #27324C;
@postnl-blue: #001A73;
@postnl-grey: #868681;
@postnl-white: #fff;


/*** Custom Color Pallet ***/

/* Container */
@custom-border-color: #D4D9E3;

/* Buttons */
@custom-button-active: @postnl-orange;
@custom-button-hover: #F3F4F7;

@custom-border-radius: 5px;

/* List */
@custom-list-background: #fff;
@custom-list-background-even: #fff;
@custom-list-hover: #eaf7ff;

/* =================================================================================================================== *
*
* TIG PostNL Magento 2 Extension
*
* =================================================================================================================== */

/* PostNL Branding Frontend */

#label_method_regular_tig_postnl {

  &:before {
    float: left;
    width: 50px;
    height: 37px;

    content: ' ';
    background-image: url(../images/postnl_logo.png) !important;
    background-position: 0 2px;
    background-repeat: no-repeat;
    background-size: auto 33px;
    margin-top: -10px;
  }
}

/* Delivery Options */
.postnl-delivery-options {
  color: @postnl-blue-dark;
  overflow: hidden;
  width: 100%;
  max-width: 500px;

  .btn-group {
    background: @custom-button-active;
    float: left;
    width: 100%;
    border: 1px solid @custom-border-color;
    box-sizing: border-box;
    border-bottom: 0;
    border-radius: @custom-border-radius @custom-border-radius 0 0;
  }

  button {
    &.btn {
      &.btn-default {
        float: left;
        width: 50%;
        box-sizing: border-box;
        border: 0;
        background: white;
        text-align: left;
        padding: 15px;
        min-height: 55px;

        & > .pickup-date {
          font-size: 10px;
        }

        &:not(.primary) {
          box-shadow: none;
        }

        &:nth-child(1) {
          border-radius: 4px 0 0 0;
          border-right: 0;
        }

        &:nth-child(2) {
          border-radius: 0 4px 0 0;
        }

        &:hover {
          background: @custom-button-hover;
        }

        &.button-active {
          background: @custom-button-active;
          color: @postnl-white;
        }

        @media screen and (min-width: 480px) {
          .data {
            float: right;
          }
        }

      }
    }
  }

  // Remove focus on radio buttons
  input.tig-postnl-delivery-radio,
  input.tig-postnl-pickup-radio {
    box-shadow: none;

    &:active, &:hover, &:focus, &:visited {
      box-shadow: none;

    }
  }

  // Delivery List + Pickup List

  .delivery,
  .pickup {
    float: left;
    width: 100%;
    background: @custom-list-background;
    border: 1px solid @custom-border-color;
    box-sizing: border-box;
    border-top: 0;

    ul, ol {
      padding: 0;
      list-style: none;

      li {
        float: left;
        width: 100%;
        box-sizing: border-box;
        margin-bottom: 0;
        position: relative;

        label {
          cursor: pointer;
          box-sizing: border-box;

          &:hover {
            background: @custom-list-hover;
          }

          &.selected-row {
            background: @custom-list-hover !important;
          }
        }
      }
    }

  }

  // Delivery List

  .delivery {
    border: 0;
    background: transparent;

    * {
       box-sizing: border-box;
    }

    .days {
      border: 1px solid @custom-border-color;
      border-top: 0;
      overflow: hidden;
      background: @custom-list-background;

      .wrapper {
        float: left;
        width: 100%;

        &:nth-child(even) {
          background: @custom-list-background-even;
        }

        // Top Row
        strong {
          font-size: 12px;
          float: left;
          width: 100%;
          box-sizing: border-box;
          background: #F3F4F7;
          border-bottom: 1px solid @custom-border-color;
          border-top: 1px solid @custom-border-color;
          padding: 5px 15px;

          .deliverydays-day {
            text-transform: uppercase;
            display: inline-block;

              &:after {
                  content: ","
              }
          }

          .deliverydays-date {
            display: inline-block;
          }

        }

        &-fullwidth {
          ul {
            width: 100% !important;
          }
        }

        // Bottom Row
        ul, ol {
          float: left;
          width: 100%;

          li {
            float: left;
            width: 100%;

            // Left Column
            label {
              float: left;
              width: 100%;
              padding: 13px 15px 13px 15px;
            }

            @media screen and (min-width: 400px) {
              li {
                padding: 10px 100px 10px 20px;
              }
            }

            .data-container {
              display: inline-block;
              width: calc(~'100% - 40px');
            }

            .tig-postnl-delivery-radio {
              float: left;
              margin: 0 10px 0 0;
              width: 20px;
              height: 21px;
            }

            .tig-postnl-delivery-data {
              float: left;
            }

            .tig-postnl-delivery-to {
              float: left;
            }

            .tig-postnl-delivery-dash {
              float: left;
              margin: 0 3px;
            }

            .tig-postnl-delivery-from {
              float: left;
            }

            // Right Column
            .tig-postnl-delivery-option {
              float: left;
              margin-left: 30px;
              width: 100%;
              position: relative;
            }

            @media screen and (min-width: 400px) {
              .data-container {
                width: calc(~'100% - 100px');
              }

              .tig-postnl-delivery-option {
                  position: absolute;
                  right: 15px;
                  float: none;
                  width: auto;
              }
            }
          }
        }
      }
    }

    .extra-service-container {
      border: 1px solid @custom-border-color;
      margin-top: 25px;
      background: @custom-list-background;

      .extra-service-header {
        padding: 6px 15px;
        font-size: 12px;
        background: @postnl-blue-dark;
        color: @postnl-white;
        text-transform: uppercase;

        .extra-service-label {
          font-weight: 600;
        }
      }

      .only-stated-address {
        padding: 0;
        position: relative;

        input {
          position: absolute;
          left: 15px;
          transform: translateY(-50%);
          top: 49%;
          pointer-events: none;
          z-index: 2;

          &:not([disabled]) {
            &:focus {
              box-shadow: none;
            }
          }
        }

        label {
          position: relative;
          width: 100%;
          display: block;
          box-sizing: border-box;
          padding: 0 0 0 40px;
          line-height: 55px;
          cursor: pointer;

          &:hover {
            background: @custom-list-hover;
          }
        }

        .price {
          position: absolute;
          right: 15px;
          transform: translateY(-50%);
          top: 50%;
          pointer-events: none;

            @media screen and (max-width: 399px){
                position: relative;
                pointer-events: none;
                padding-left: 40px;
                top: -15px;
                right: unset;
            }

          &:before {
            content: '(+ ';
          }

          &:after {
            content: ')';
          }
        }
      }
    }

    @media screen and (max-width: 480px) {
      .days {
        .wrapper {
          strong {
            float: left;
            width: 100%;
          }

          ul, ol {
            float: right;
            width: 100%;
          }
        }
      }
    }

  }

  /* End Delivery */


  // Pickup List

  .pickup {
      * {
          box-sizing: border-box;
      }

      .tig-postnl-pickup-row {
          strong {
              font-size: 12px;
              float: left;
              width: 100%;
              box-sizing: border-box;
              background: #F3F4F7;
              border-bottom: 1px solid @custom-border-color;
              border-top: 1px solid @custom-border-color;
              padding: 5px 15px;
              text-transform: uppercase;

              .tig-postnl-distance {
                  float: right;
                  font-weight: 400;
                  text-transform: none;
              }
          }

          label {
              float: left;
              width: 100%;
              padding: 18px 15px 18px 15px;

              input {
                  float: left;
                  margin: 0 10px 0 0;
                  width: 20px;
                  height: 21px;
                  position: absolute;
              }

              .tig-postnl-address-container {
                  float:left;
                  width: 70%;
                  padding-left: 30px;

                  .tig-postnl-pickup-hours-link {
                      display: block;
                      margin-top: 10px;
                      color: @postnl-orange;

                      .hide {
                          display: none;
                      }

                      .show {
                          display: block;
                      }

                      &.active {
                          .hide {
                              display: block;
                          }

                          .show {
                              display: none;
                          }
                      }
                  }
              }

              .tig-postnl-date-time-container {
                  float:right;
                  text-align: right;
                  width: 30%;

                  @media screen and (max-width: 768px) {
                      float: left;
                      margin-top: 10px;
                      padding-left: 30px;
                      text-align: left;
                      width: 100%;
                  }

                  span {
                      display: block;
                  }

                  .pickup-date-date {
                      font-size: 12px;
                  }
              }


              .tig-postnl-pickup-hours-list {
                  float:left;
                  width: calc(~'100% - 30px');
                  margin-left: 30px;
                  background: #F3F4F7;
                  padding: 15px;
                  border-radius: 5px;
                  border: 1px solid #D4D9E3;
                  box-sizing: border-box;
                  margin-top: 10px;

                   li {
                       float:left;
                       line-height: 25px;
                       width: 50%;
                   }
              }

          }
      }
  }

}

/* Loading Image */
.postnl-delivery-options {
  position: relative;

  .tig-postnl-loading {
    position: absolute;

    background: rgba(255, 255, 255, 0.65) url(../images/loading_1.gif) no-repeat center center;
    background-size: 60px;

    height: 100px;
    width: 100%;
    box-sizing: border-box;

    z-index: 10;
  }
}

/* =================================================================================================================== *
*
* Override Magento Narrow Shipping Table
*
* =================================================================================================================== */

#opc-shipping_method {
  #checkout-shipping-method-load {
    .table-checkout-shipping-method {
      width: 100% !important;
      max-width: 500px;

      .col-price {
        min-width: 100px;
      }

    }
  }
}
